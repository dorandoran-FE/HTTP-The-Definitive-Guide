# 2장 URL과 리소스

- URL(Uniform Resource Locator)
  - 인터넷의 리소스를 가리키는 표준 이름
  - 전자정보 일부를 가리키고 그것이 어디에 있고 어떻게 접근할 수 있는지 알려줌

- 2장에서 배울것
  - URL 문법, 여러 URL 컴포넌트가 어떤 의미를 가지며 무엇을 수행하는지.
  - 여러 웹 클라이언트가 지원하는 상대 URL과 확장 URL 같은 단축 URL에 대해서.
  - URL의 인코딩과 문자 규칙.
  - 여러 인터넷 정보 시스템에 적용되는 공통 URL 스킴.
  - 기존 이름은 유지하면서 객체들을 다른 장소로 옮기는 것을 가능하게 해주는 URN(Uniform Resource Name)을 포함한 URL의 미래.

## 1. 인터넷의 리소스 탐색하기
- URL은 브라우저가 정보를 찾는데 필요한 리소스의 위치를 가리킴. 그리고 URL을 통해 사람이 HTTP 및 다른 프로토콜을 통해 접근할 수 있다
- URL은 통합 자원 식별자(URI)의 부분 집합

- http://www.joes-hardware.com/seasonal/index-fall.html url을 분석하기
  - URL 첫 부분인 http는 URL의 스킴 -> 스팀은 웹  클라이언트가 리소스에 어떻게 접근하는지 알려준다. 이 경우에, URL이 HTTP 프로토콜을 사용!
  - URL의 두 번째 부분인 www.joes-hardware.com은 서버의 위치 -> 리소스가 어디에 호스팅 되어 있는지 알려준다.
  - URL의 세 번째 부분인 /seasonal/index-fall.html은 리소스의 경로

  - 그러니깐 -> 스킴://서버위치/경로 구조임!

## 2.URL 문법
- URL로 인터넷상의 모든 리소스를 찾을 수 있음.
- 대부분의 URL은 일반 URL 문법을 따르며, 서로 다른 URL 스킴도 형태와 문법 면에서 매우 유사.
- 대부분의 URL 스킴의 문법은 일반적으로 9개 부분으로 나뉨
  - <스킴>://<사용자 이름>:<비밀번호>@<호스트>:<포트>/<경로>;<파라미터>?<질의>#<프래그먼트>
  

1. 스킴 : 사용할 프로토콜
- 주어진 리소스에 어떻게 접근하는지 알려주는 중요한 정보
- 알파벳으로 시작, URL의 나머지 부분들과 첫 번째 ':' 문자로 구분, 대소문자를 가리지 않음

2. 호스트와 포트
- 호스트 : 접근하려고 하는 리소스를 가지고 있는 인터넷상의 호스트 장비를 가리킴
- 포트 : 서버가 열어놓은 네트워크 포트를 가리킴

3. 사용자 이름과 비밀번호
- 많은 서버가 자신이 가지고 있는 데이터에 접근을 허용하기 전에 사용자 이름과 비밀번호를 요구
- 그 값들이 삽입되지 않을 경우 기본값을 넣음

4. 경로
- 계층적 파일 시스템의 경로와 유사한 구조
- '/' 문자를 기준으로 경로 조각으로 나뉜다.

5. 파라미터
- 많은 스킴이 객체에 대한 호스트 및 경로 정보만으로는 리소스를 찾지 못함
- URL의 파라미터 컴포넌트는, 애플리케이션이 서버에 정확한 요청을 하기 위해 필요한 입력 파라미터를 받는데 사용.
- 이름/값 쌍의 리스트로 URL 나머지 부분들로부터 ';' 문자로 구분하여 URL에 기술

6. 질의 문자열
- 데이터베이스 같은 서비스들은 요청받을 리소스 형식의 범위를 좁히기 위해서 질문이나 질의를 받을 수 있음
- 게이트웨이를 가리키는 URL를 가리키는 URL의 경로 컴포넌트와 함께 전달함.
- 편의상 많은 게이트웨이가 '&'로 나뉜 '이름=값' 쌍 형식의 질의 문자열을 원함.

7. 프래그먼트
- 리소스의 특정 부분을 가리킬 수 있도록, URL은 리소스 내의 조각을 가리킬 수 있는 프래그먼트 컴포넌트를 제공함. 예를 들어 URL은 HTML 문서에 있는 특정 이미지나 일부분을 가리킬 수 있음.
- 프래그먼트는 URL의 오른쪽에 # 문자에 이어서 온다.
- 클라이언트는 서버에 프래그먼트를 전달하지 않음. 브라우저가 서버로부터 전체 리소스를 내려받은 후, 프래그먼트를 사용하여 보고자 하는 리소스의 일부를 보여줌.

## 3.단축 URL

1. 상대 URL
- 상대 URL은 URL을 짧게 표기하는 방식
- 상대 URL은 프래그먼트이거나 URL 일부임. URL을 처리하는 브라우저 같은 애플리케이션은 상대 URL과 절대 URL 간에 상호 변환을 할 수 있어야함

2. URL 확장
- 사용자가 URL을 입력하는 시간을 줄이고자 제공
- (1) 호스트명 확장
  - 호스트명 확장 기능을 지원하는 브라우저는 단순한 휴리스틱만을 사용해서 입력한 호스트 명을 호스트 명으로 확장할 수 있음
  - 호스트명에 대한 확장 기능은 프락시와 같은 다른 HTTP 애플리케이션에 문제를 발생시킬 수도 있음

- (2) 히스토리 확장
  - 과거에 사용자가 방문했던 URL의 기록을 저장하기

## 4. 안전하지 않은 문자
- URL은 잘 호환되도록 설계됨.
- 그리고 인터넷에 있는 모든 리소스가 여러 프로토콜을 통해서 전달될 수 있도록, 각 리소스에 유일한 이름을 지을 수 있게 설계됨.
- 안전한 전송이란 정보가 유실될 위험 없이 URL을 전송할 수 있다는 것을 의미!
- 문자가 제거되는 일을 피하고자 URL은 알파벳 문자만 포함하도록 허락함

1. URL 문자 집합
- 이스케이프 문자열 사용 가능
- 따라서 이동성과 완성도를 높임

2. 인코딩 체계
- URL에 있는 안전하지 않은 문자열을 표현할 수 있는 인코딩 방식이 고안됨
- 안전하지 않은 문자를 %로 시작해, ASCII 코드로 표현되는 두 개의 16진수 숫자로 이루어진 이스케이프 문자로 바꿈

3. 문자 제한
- 예약어가 있음

4. 더 알아보기
- 입력받은 URL에서 어떤 문자를 인코딩해야 하는지 결정하는 데는 브라우저와 같이 사용자로부터 최초로 URL을 입력받는 애플리케이션에서 하는 것이 가장 적절

## 5. 스킴의 바다
| 스킴   | 설명                                   |
|----------|----------------------------------------|
| **http**  | 일반 URL 포맷을 지키는 하이퍼텍스트 전송 프로토콜 스킴. 기본 포트값은 80
| **https**  | HTTP 커넥션의 양 끝단에서 암호화하기 위해 보안 소켓 계층을 사용. 기본 포트값은 443
| **mailto**  | 이메일 주소.
| **ftp**  | 파일 전송 프로토콜.
| **rtsp, rtspu**  | 실시간 스트리밍 프로토콜을 통해서 읽을 수 있는 미디어 리소스 식별자.
| **file**  | 호스트 기기에서 바로 접근할 수 있는 파일들.
| **telnet**  | 대화형 서비스에 접근하는데 사용.


